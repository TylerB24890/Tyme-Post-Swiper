!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(1)},function(e,t,n){"use strict";function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var r=n(2),i=(n.n(r),n(3)),s=(n.n(i),n(4)),a=n(5),l=n(6),p=n(7),u=n(8),c=n(9),f=wp.i18n.__,w=wp.blocks.registerBlockType,h=wp.element,d=h.Fragment,y=h.RawHTML,g=wp.editor.InspectorControls,m=wp.components.PanelBody;w("tyme/post-swiper",{title:f("Tyme Post Swiper"),icon:"slides",category:"widgets",keywords:[f("Post Swiper"),f("Tyme"),f("Carousel")],attributes:{posts:{type:"array",default:[]},showFeaturedImage:{default:!1,type:"boolean"},swiperEffect:{type:"string",default:"slide"},swiperPerView:{type:"number",default:1},swiperLoop:{type:"boolean",default:!0},swiperAutoPlay:{type:"boolean",default:!1},swiperCentered:{type:"boolean",default:!0}},edit:function(e){var t=e.attributes,n=t.posts,r=t.swiperEffect,i=t.swiperPerView,w=t.swiperLoop,h=t.swiperAutoPlay,b=t.swiperCentered;return wp.element.createElement(d,null,wp.element.createElement(g,null,wp.element.createElement(m,{title:f("Swiper Posts")},wp.element.createElement(s.a,{onPostSelect:function(t){n.push(t),e.setAttributes({posts:[].concat(o(n))})},posts:n,onChange:function(t){e.setAttributes({posts:[].concat(o(t))})},postType:"post",showSuggestions:!0})),wp.element.createElement(m,{title:f("Swiper Settings")},wp.element.createElement(a.a,{onChange:function(t){e.setAttributes({swiperEffect:t})},value:r}),wp.element.createElement(l.a,{onChange:function(t){e.setAttributes({swiperPerView:t})},value:i}),wp.element.createElement(p.a,{onChange:function(t){e.setAttributes({swiperLoop:t})},value:w}),wp.element.createElement(c.a,{onChange:function(t){e.setAttributes({swiperCentered:t})},value:b}),wp.element.createElement(u.a,{onChange:function(t){e.setAttributes({swiperAutoPlay:t})},value:h}))),wp.element.createElement("div",{className:"swiper-container","data-swiper-effect":r,"data-swiper-perview":i,"data-swiper-loop":w,"data-swiper-autoplay":h,"data-swiper-centered":b},wp.element.createElement("div",{className:"swiper-wrapper"},e.attributes.posts.map(function(e){return wp.element.createElement("div",{className:"swiper-slide",key:e.id},wp.element.createElement("h2",null,e.title),wp.element.createElement(y,null,e.excerpt))}))))},save:function(e){var t=e.attributes,n=t.swiperEffect,o=t.swiperPerView,r=t.swiperLoop,i=t.swiperAutoPlay,s=t.swiperCentered;return wp.element.createElement("div",{className:"swiper-container","data-swiper-effect":n,"data-swiper-perview":o,"data-swiper-loop":r,"data-swiper-autoplay":i,"data-swiper-centered":s},wp.element.createElement("div",{className:"swiper-wrapper"},e.attributes.posts.map(function(e){return wp.element.createElement("div",{className:"swiper-slide",key:e.id},wp.element.createElement("h2",null,e.title),wp.element.createElement(y,null,e.excerpt))})))}})},function(e,t){},function(e,t){},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=void 0;return function(){for(var o=this,r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];clearTimeout(n),n=setTimeout(function(){e.apply(o,i)},t)}}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=wp.element,p=l.Component,u=l.Fragment,c=wp.htmlEntities.decodeEntities,f=wp.keycodes,w=f.UP,h=f.DOWN,d=f.ENTER,y=wp.components,g=y.Spinner,m=y.Popover,b=y.IconButton,v=wp.compose.withInstanceId,_=wp,C=_.apiFetch,E=wp.url.addQueryArgs,P=wp.i18n.__,S=function(e){return e.stopPropagation()},O=function(e){function t(){o(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onChange=e.onChange.bind(e),e.onKeyDown=e.onKeyDown.bind(e),e.bindListNode=e.bindListNode.bind(e),e.updateSuggestions=s(e.updateSuggestions.bind(e),200),e.limit=!!e.props.limit&&parseInt(e.props.limit),e.suggestionNodes=[],e.state={posts:[],showSuggestions:!1,selectedSuggestion:null,input:""},e}return i(t,e),a(t,[{key:"componentWillUnmount",value:function(){delete this.suggestionsRequest}},{key:"bindListNode",value:function(e){this.listNode=e}},{key:"bindSuggestionNode",value:function(e){var t=this;return function(n){t.suggestionNodes[e]=n}}},{key:"updateSuggestions",value:function(e){var t=this;if(e.length<2||/^https?:/.test(e))return void this.setState({showSuggestions:!1,selectedSuggestion:null,loading:!1});this.setState({showSuggestions:!0,selectedSuggestion:null,loading:!0});var n=C({path:E("/wp/v2/search",{search:e,per_page:20,type:"post",subtype:this.props.postType?this.props.postType:void 0})});n.then(function(e){t.suggestionsRequest===n&&t.setState({posts:e,loading:!1})}).catch(function(){t.suggestionsRequest===n&&t.setState({loading:!1})}),this.suggestionsRequest=n}},{key:"onChange",value:function(e){var t=e.target.value;this.setState({input:t}),this.updateSuggestions(t)}},{key:"onKeyDown",value:function(e){var t=this.state,n=t.showSuggestions,o=t.selectedSuggestion,r=t.posts,i=t.loading;if(n&&r.length&&!i)switch(e.keyCode){case w:e.stopPropagation(),e.preventDefault();var s=o?o-1:r.length-1;this.setState({selectedSuggestion:s});break;case h:e.stopPropagation(),e.preventDefault();var a=null===o||o===r.length-1?0:o+1;this.setState({selectedSuggestion:a});break;case d:if(null!==this.state.selectedSuggestion){e.stopPropagation();var l=this.state.posts[this.state.selectedSuggestion];this.selectPost(l)}}}},{key:"selectPost",value:function(e){var t=this;if(this.props.data){var n=!1,o={},r=!0,i=!1,s=void 0;try{for(var a,l=this.props.data[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var p=a.value;if(!e.hasOwnProperty(p))return void(n=!0);o[p]=e[p]}}catch(e){i=!0,s=e}finally{try{!r&&l.return&&l.return()}finally{if(i)throw s}}if(!n)return this.props.onPostSelect(o),void this.setState({input:"",selectedSuggestion:null,showSuggestions:!1})}C({path:"/wp/v2/"+e.subtype+"s/"+e.id}).then(function(e){var n={title:c(e.title.rendered),id:e.id,excerpt:c(e.excerpt.rendered),url:e.link,date:e.human_date};t.props.onPostSelect(n)}),this.setState({input:"",selectedSuggestion:null,showSuggestions:!1})}},{key:"renderPosts",value:function(){var e=this;return wp.element.createElement("ul",null,this.props.posts.map(function(t,n){return wp.element.createElement("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline",flexWrap:"nowrap"},key:t.id},wp.element.createElement("span",{style:{maxWidth:"60%"}},t.title),wp.element.createElement("span",null,0!==n?wp.element.createElement(b,{style:{display:"inline-flex",padding:"8px 2px",textAlign:"center"},icon:"arrow-up-alt2",onClick:function(){e.props.posts.splice(n-1,0,e.props.posts.splice(n,1)[0]),e.props.onChange(e.props.posts),e.setState({state:e.state})}}):null,n!==e.props.posts.length-1?wp.element.createElement(b,{style:{display:"inline-flex",padding:"8px 2px",textAlign:"center"},icon:"arrow-down-alt2",onClick:function(){e.props.posts.splice(n+1,0,e.props.posts.splice(n,1)[0]),e.props.onChange(e.props.posts),e.setState({state:e.state})}}):null,wp.element.createElement(b,{style:{display:"inline-flex",textAlign:"center"},icon:"no",onClick:function(){e.props.posts.splice(n,1),e.props.onChange(e.props.posts),e.setState({state:e.state})}})))}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.autoFocus,o=void 0===n||n,r=t.instanceId,i=this.state,s=i.showSuggestions,a=i.posts,l=i.selectedSuggestion,p=i.loading,f=i.input;return wp.element.createElement(u,null,wp.element.createElement("div",{className:"editor-url-input"},wp.element.createElement("input",{autoFocus:o,type:"text","aria-label":"URL",required:!0,value:f,onChange:this.onChange,onInput:S,placeholder:P("Type page or post name"),onKeyDown:this.onKeyDown,role:"combobox","aria-expanded":s,"aria-autocomplete":"list","aria-owns":"editor-url-input-suggestions-"+r,"aria-activedescendant":null!==l?"editor-url-input-suggestion-"+r+"-"+l:void 0,style:{width:"100%"}}),p&&wp.element.createElement(g,null)),s&&!!a.length&&wp.element.createElement(m,{position:"bottom",noArrow:!0,focusOnMount:!1},wp.element.createElement("div",{className:"editor-url-input__suggestions",id:"editor-url-input-suggestions-"+r,ref:this.bindListNode,role:"listbox"},a.map(function(t,n){return wp.element.createElement("button",{key:t.id,role:"option",tabIndex:"-1",id:"editor-url-input-suggestion-"+r+"-"+n,ref:e.bindSuggestionNode(n),className:"editor-url-input__suggestion "+(n===l?"is-selected":""),onClick:function(){return e.selectPost(t)},"aria-selected":n===l},c(t.title)||"(no title)")}))),this.renderPosts())}}]),t}(p);t.a=v(O)},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=wp.element.Component,l=wp.components.SelectControl,p=wp.i18n.__,u=function(e){function t(){o(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={effect:e.props.value},e}return i(t,e),s(t,[{key:"onChange",value:function(e){this.props.onChange(e),this.setState({effect:e})}},{key:"render",value:function(){var e=this,t=[{label:p("Slide"),value:"slide"},{label:p("Fade"),value:"fade"},{label:p("Cube"),value:"cube"},{label:p("Coverflow"),value:"coverflow"},{label:p("Flip"),value:"flip"}];return wp.element.createElement(l,{label:p("Swipe Effect"),value:this.state.effect,options:t,onChange:function(t){e.onChange(t)}})}}]),t}(a);t.a=u},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=wp.element.Component,l=wp.components.RangeControl,p=wp.i18n.__,u=function(e){function t(){o(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={perview:e.props.value},e}return i(t,e),s(t,[{key:"onChange",value:function(e){this.props.onChange(e),this.setState({perview:e})}},{key:"render",value:function(){var e=this;return wp.element.createElement(l,{label:p("Posts Per View"),value:this.state.perview,onChange:function(t){e.onChange(t)},min:1,max:5})}}]),t}(a);t.a=u},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=wp.element.Component,l=wp.components.ToggleControl,p=wp.i18n.__,u=function(e){function t(){o(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={loop:e.props.value},e}return i(t,e),s(t,[{key:"onChange",value:function(e){this.props.onChange(e),this.setState({loop:e})}},{key:"render",value:function(){var e=this;return wp.element.createElement(l,{label:p("Loop Posts"),help:p(this.state.loop?"Posts will loop infinitely.":"Posts will cycle once."),checked:this.state.loop,onChange:function(t){e.onChange(t)}})}}]),t}(a);t.a=u},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=wp.element.Component,l=wp.components.ToggleControl,p=wp.i18n.__,u=function(e){function t(){o(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={autoplay:e.props.value},e}return i(t,e),s(t,[{key:"onChange",value:function(e){this.props.onChange(e),this.setState({autoplay:e})}},{key:"render",value:function(){var e=this;return wp.element.createElement(l,{label:p("Autoplay Carousel"),help:p(this.state.autoplay?"Carousel will autoplay.":"Carousel will not autoplay."),checked:this.state.autoplay,onChange:function(t){e.onChange(t)}})}}]),t}(a);t.a=u},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=wp.element.Component,l=wp.components.ToggleControl,p=wp.i18n.__,u=function(e){function t(){o(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={centered:e.props.value},e}return i(t,e),s(t,[{key:"onChange",value:function(e){this.props.onChange(e),this.setState({centered:e})}},{key:"render",value:function(){var e=this;return wp.element.createElement(l,{label:p("Center Posts"),help:p(this.state.centered?"Posts are centered.":"Posts are left aligned."),checked:this.state.centered,onChange:function(t){e.onChange(t)}})}}]),t}(a);t.a=u}]);